<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bachcare Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f7f9fa; padding: 20px; }
    .calculator-container { background: #fff; max-width: 800px; margin: auto; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    h1 { text-align: center; margin-bottom: 20px; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select { width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 5px; }
    button { margin-top: 20px; padding: 10px; background: #0078d7; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #005fa3; }
    .output { margin-top: 20px; background: #f1f3f4; padding: 15px; border-radius: 8px; }
    textarea { width: 100%; height: 200px; margin-top: 10px; }
  </style>
</head>
<body>
  <div class="calculator-container">
    <h1>Bachcare Calculator</h1>

    <label for="mode">Mode</label>
    <select id="mode">
      <option value="COD">COD (Change of Dates)</option>
      <option value="RON">RON (Reduction of Nights)</option>
      <option value="EXT">Extension</option>
    </select>

    <label for="rent">Rent ($)</label>
    <input type="number" id="rent" />

    <label for="linen">Linen ($)</label>
    <input type="number" id="linen" value="0" />

    <label for="cleaning">Cleaning ($)</label>
    <input type="number" id="cleaning" value="0" />

    <label for="nights">Nights</label>
    <input type="number" id="nights" value="1" />

    <label for="bookingFee">Booking Fee ($)</label>
    <input type="number" id="bookingFee" value="75" />

    <label for="gstWaive">Waive GST (Bump)?</label>
    <select id="gstWaive">
      <option value="yes">Yes</option>
      <option value="no">No</option>
    </select>

    <label for="channelMarkup">Channel Markup (%)</label>
    <input type="number" id="channelMarkup" value="0" />

    <button onclick="calculate()">Calculate</button>

    <div class="output" id="output"></div>
    <label>Finance Note Output:</label>
    <textarea id="financeNote"></textarea>
  </div>

  <script>
    function calculate() {
      const mode = document.getElementById('mode').value;
      const rent = parseFloat(document.getElementById('rent').value) || 0;
      const linen = parseFloat(document.getElementById('linen').value) || 0;
      const cleaning = parseFloat(document.getElementById('cleaning').value) || 0;
      const nights = parseInt(document.getElementById('nights').value) || 0;
      const bookingFee = parseFloat(document.getElementById('bookingFee').value) || 0;
      const gstWaive = document.getElementById('gstWaive').value;
      const channelMarkup = parseFloat(document.getElementById('channelMarkup').value) || 0;

      const GEL = nights * 12;

      let subtotal = rent + linen + cleaning + bookingFee + GEL;
      subtotal += subtotal * (channelMarkup / 100);

      let gst = 0;
      if (gstWaive === 'no') {
        gst = 0.15 * subtotal;
      }

      const total = subtotal + gst;

      const outputHTML = `
        <b>Breakdown Itinerary Note</b><br>
        <b>Mode:</b> ${mode}<br>
        <b>Rent:</b> $${rent}<br>
        <b>Linen:</b> $${linen}<br>
        <b>Cleaning:</b> $${cleaning}<br>
        <b>Booking Fee:</b> $${bookingFee}<br>
        <b>GEL:</b> $${GEL}<br>
        <b>Channel Markup:</b> ${channelMarkup}%<br>
        <b>GST:</b> ${gstWaive === 'yes' ? 'Waived (Bump)' : '$' + gst.toFixed(2)}<br>
        <b>Total:</b> $${total.toFixed(2)}
      `;

      document.getElementById('output').innerHTML = outputHTML;
      document.getElementById('financeNote').value = outputHTML.replace(/<br>/g, "\n").replace(/<b>/g, '').replace(/<\/b>/g, '');
    }
  </script>
</body>
</html>
